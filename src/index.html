<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Teste Apontador</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js?v=11"></script>
    <script type="text/javascript" src="api.js"></script>
    <script type="text/javascript" src="main.js"></script>
</head>
<body>

<b>Nome do local:</b> <span id="localName"></span>
<br/>
<b>Nº de avaliações:</b> <span id="numberOfReviews"></span>


<script>
    /*
    Apontador API - http://www.apontador.com.br

    Para obter o Application AccessToken é necessário realizar uma chamada na API com a app client-id e secret-key
     Exemplo através do CURL:
     curl -X POST -d "client_id=recruitment-apontador&client_secret=EvgGjjORuTnQESSslOhalwyLK5i~&grant_type=client_credentials&scope=read" https://api.apontador.com.br/v2/oauth/token
     */
    var client = new ApontadorClient('e705d821-3d68-440a-a638-7f8cf666f6bc');

    client.getPlace('M25GJ288').done(function(result){

        var place = result.place;

        $('#localName').html(place.name);
        $('#numberOfReviews').html(place.statistics.reviews);

    }).fail(function(err){

                alert('Error ao acessar a Apontador API');
                //console.log('Erro ao acessar a Apontador API. Message: '+ JSON.stringify(err));

            });
</script>

</body>
</html>